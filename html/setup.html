<!DOCTYPE html>
<html>
<head>
  <base target="_top">
  <?!= include('css/styles'); ?>
</head>
<body>
  <div class="setup-container">
    <div class="step-indicator">
      <div class="step-dot active"></div>
      <div class="step-dot"></div>
      <div class="step-dot"></div>
      <div class="step-dot"></div>
    </div>
    <div id="step-container">
    <div id="step-welcome" class="step active">
      <p>This add-in helps you manage and analyze your Trading212 portfolio directly in Google Sheets. 
         Let's get you set up in just a few simple steps.</p>
      <div class="button-container">
        <div></div>
        <button class="waves-effect waves-light btn" onclick="nextStep()">Get Started</button>
      </div>
    </div>

    <div id="step-environment" class="step">
      <h5>Choose Your Environment</h5>
      <p>Select whether you want to use the demo environment to test things out,
         or connect to your live Trading212 account.</p>
      
      <div class="input-field">
        <select id="environment-select">
          <option value=""  selected>Choose your environment</option>
          <option value="demo">Demo Environment</option>
          <option value="live">Live Environment</option>
        </select>
        <label></label>
      </div>
      <?!= include('html/prevNextButtons'); ?>
    </div>

    <div id="step-api" class="step">
      <h5>API Configuration</h5>
      <p>Enter your Trading212 API key to connect your account.
         You can find this in your Trading212 account settings.</p>
         <p>Learn how to <a href="https://helpcentre.trading212.com/hc/en-us/articles/14584770928157-How-can-I-generate-an-API-key" target="_blank">generate your API key</a> if you don't have one.</p>
      
      <div class="input-field">
        <input type="password" id="apiKey" />
        <label for="apiKey">API Key</label>
      </div>
      
      <button class="waves-effect waves-light btn" onclick="environmentHandler.testConnection()">
        Test Connection
      </button>

      <div id="connection-status"></div>

      <?!= include('html/prevNextButtons'); ?>

    </div>

    <div id="step-complete" class="step">
      <div class="center-align">
        <i class="large material-icons green-text">check_circle</i>
        <h5>Setup Complete!</h5>
        <p>Your Trading212 Portfolio Manager is now configured and ready to use.</p>
        <p>What would you like to do next?</p>
      </div>

      <div class="button-container">
        <button class="waves-effect waves-light btn" onclick="closeModal()">
          Done
        </button>
        <button class="waves-effect waves-light btn" onclick="showFetchDataModal()">
          Fetch Trading212 Data
        </button>
    </div>
    </div>
  </div>
  </div>
  <?!= include('js/scripts'); ?>
</body>
</html>